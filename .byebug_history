q
@account.debit
@account.credit
@account
User.find(account.user_id).email
User.find(account.user_id)
account.user_id
account
q
current_user
@account
q
account.user_id
account
@account.account
@account
@account.user_id
User.find(@account.user_id)
User.find(@account.user_id).user_email
User.find(@account.user_id).email
@account
current_user
q
UserMailer.mail(user: self).transaction_email.deliver_now
UserMailer.with(user: self).transaction_email.deliver_now
q
Thread.current[:user].id
Thread.current[:user]
user
Thread.current
current
q
current_user
q
current_user
params
q
self
q
self
c
q
n
user
accountuser
account
exit
User.find
self.current_user
self.user_id
self
current_user
user.instance_id
User
user
current_user
c
debit.present? && debit > (Account.sum(:credit) - Account.sum(:debit))
debit.present? && debit > Account.sum(:credit)
debit.present?
credit.present?
debit.present?
debit
